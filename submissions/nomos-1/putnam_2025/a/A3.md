# A3

## Problem

Alice and Bob play a game with a string of $n$ digits, each of which is restricted to be $0$, $1$, or $2$. Initially all the digits are $0$.

A **legal move** is to add or subtract $1$ from one digit to create a new string that has not appeared before. A player with no legal move loses, and the other player wins. Alice goes first, and the players alternate moves.

For each $n \ge 1$, determine which player has a strategy that guarantees winning.

## Submission

**Answer:** Bob (the second player) has a winning strategy for every \(n\ge 1\).

**Proof.**  
Model the strings as vertices of a graph \(G_n\) whose vertex set is \(\{0,1,2\^n\). Two strings are adjacent if they differ in exactly one coordinate by exactly \(1\). The game starts at the vertex \(0=(0,\dots,0)\). Players alternately move the token along an edge to a vertex that has never been visited; the player who cannot move loses.

---

**Lemma 1.**  
If \(G_n\) contains a matching that covers every vertex except the starting vertex \(0\), then Bob (the second player) can force a win.

*Proof.*  
Bob’s strategy is simple: whenever Alice moves from the current vertex to a string \(v\), Bob moves to the unique vertex \(w\) such that \(\{v,w\}\) belongs to the matching.  

Initially the token is at \(0\), which is unmatched. After Alice’s first move, the token is at some \(v\) (adjacent to \(0\). Because all vertices except \(0\) are matched, \(v\) has a partner \(w\). Since the matching consists of disjoint edges and the only visited vertices so far are \(0\) and \(v\), the partner \(w\) is unvisited. Bob moves there.  

Now suppose after some moves the token is at a vertex \(w\) that is Bob’s reply, and the set of visited vertices consists of \(0\) together with a collection of complete matched pairs. Alice must move to a new vertex \(u\) (adjacent to \(w\)). Because \(u\neq 0\) and all vertices except \(0\) are in matched pairs, \(u\) belongs to some pair \(\{u,u'\}\). If \(u'\) were already visited, then its partner \(u\) would also be visited – impossible. Hence \(u'\) is free, and Bob can move there. This process continues until Alice has no legal move. Thus Bob always has a reply and eventually wins. ∎

---

**Lemma 2.**  
For every \(n\ge 1\), the vertex set \(V_n\setminus\{0\}\) can be partitioned into disjoint pairs of adjacent vertices (i.e., a perfect matching on the subgraph obtained by deleting \(0\)).

*Proof by induction on \(n\).*  

*Base \(n=1\):* \(V_1=\{0,1,2\). The pair \(\{1,2\}\) is an edge, so the claim holds.

*Inductive step.* Assume the claim holds for \(n-1\). Write strings of length \(n\) as \((a,d)\) with \(a\in V_{n-1}\) and \(d\in\{0,1,2\). By the induction hypothesis there exists a matching \(M\) on \(V_{n-1}\setminus\{0\}\) that pairs up all length-\(n-1\) strings except the all‑zero string. Construct a matching on \(V_n\setminus\{0\}\) as follows:

- For every \(a\in V_{n-1}\setminus\{0\}\), pair \((a,0)\) with \((a,1)\).
- Pair \((0,1)\) with \((0,2)\).
- For each edge \((u,v)\in M\), pair \((u,2)\) with \((v,2)\).

All these pairs are edges of \(G_n\) because they differ only in the last digit (first two rules) or because \((u,v)\) is an edge in \(G_{n-1}\) (third rule). The pairs are disjoint and cover every vertex except \((0,0)\):

- \((0,0)\) is omitted.
- Strings with last digit \(0\) and \(a\neq0\) are covered by the first rule.
- Strings with last digit \(1\): \((0,1)\) is covered by the second rule; for \(a\neq0\), \((a,1)\) is paired with \((a,0)\) (first rule).
- Strings with last digit \(2\): \((0,2)\) is paired with \((0,1)\); for \(a\neq0\), \((a,2)\) is paired via \(M\) (third rule).

Thus we obtain a perfect matching on \(V_n\setminus\{0\}\), completing the induction. ∎

---

By Lemma 2, \(G_n\) admits a matching covering all vertices except the starting position. Lemma 1 then guarantees that Bob has a winning strategy for every \(n\ge 1\). ∎
