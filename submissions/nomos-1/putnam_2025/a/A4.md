# A4

## Problem

Find the minimal value of $k$ such that there exist $k \times k$ real matrices
\[
A_1, A_2, \dots, A_{2025}
\]
with the property that
\[
A_i A_j = A_j A_i \quad \text{if and only if} \quad |i-j| \in \{0, 1, 2024\}.
\]

## Submission

The minimal possible size is \(k=3\).

**Proof that \(k=1\) and \(k=2\) are impossible.**

*Case \(k=1\):* All \(1\times1\) matrices are scalars, so any two commute. The condition requires that \(A_1\) and \(A_3\) (with \(|1-3|=2\notin\{0,1,2024\}\)) should not commute, contradiction.

*Case \(k=2\):* Assume such matrices exist. If some \(A_i=\lambda I\) then it would commute with every matrix, contradicting the requirement for non‑adjacent indices. Hence every \(A_i\) is not a scalar multiple of the identity. For any \(i\), \(A_i\) and \(A_{i+1}\) commute, so \(A_{i+1}\in C(A_i)\). In \(M_2(\mathbb R)\) the centralizer of a non‑scalar matrix is \(\{ \alpha I+\beta A_i \mid \alpha,\beta\in\mathbb R\}\). Thus \(A_{i+1}=\alpha_i I+\beta_i A_i\). By induction, all matrices lie in \(\operatorname{span}\{I,A_1\}\), so any two commute, contradicting the existence of non‑adjacent non‑commuting pairs (e.g. \(A_1\) and \(A_3\)). Hence no solution exists in \(M_2(\mathbb R)\).

**Construction for \(k=3\).**

Let \(n=2025\). Choose distinct real numbers \(x_1,x_2,\dots,x_n\). For each \(i\) (indices taken modulo \(n\)) define
\[
v_i=(1,\,x_i,\,x_i^2)\in\mathbb R^3,\qquad u_i=v_{i-1}\times v_{i+1}\in\mathbb R^3,
\]
and set \(A_i=u_i v_i^{\mathsf T}\) (matrix multiplication).  

- **Adjacent indices.** For any \(i\),
\[
v_i\cdot u_{i+1}=v_i\cdot(v_i\times v_{i+2})=0,\qquad
v_{i+1}\cdot u_i=v_{i+1}\cdot(v_{i-1}\times v_{i+1})=0,
\]
so \(A_iA_{i+1}=0\) and \(A_{i+1}A_i=0\); they commute. The same holds for the pair \((1,n)\) because \(v_1\cdot u_n=0\) and \(v_n\cdot u_1=0\).

- **Non‑adjacent indices.** If \(|i-j|\ge2\) then
\[
v_i\cdot u_j=\det(v_i,v_{j-1},v_{j+1})=(x_i-x_{j-1})(x_i-x_{j+1})(x_{j-1}-x_{j+1})\neq0,
\]
and similarly \(v_j\cdot u_i\neq0\). Hence both \(A_iA_j\) and \(A_jA_i\) are non‑zero. If they were equal, then multiplying by \(v_{j-1}\) yields
\[
(v_i\cdot u_j)u_i(v_j\cdot v_{j-1})=(v_j\cdot u_i)u_j(v_i\cdot v_{j-1}),
\]
and since the scalar factors are non‑zero we would have \(u_i\parallel u_j\). This happens only for a finite set of algebraic conditions on the \(x_i\); we can avoid them (e.g. by taking \(x_i=i\)). Thus for a suitable choice all such matrices are non‑equal.

Therefore the matrices \(A_1,\dots,A_n\) satisfy the required property, and \(k=3\) is attainable.

Since \(k=1,2\) are impossible and \(k=3\) works, the minimum is \(\boxed{3}\).
